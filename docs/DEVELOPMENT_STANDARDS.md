# Harmonic Insight é–‹ç™ºæ¨™æº–ã‚¬ã‚¤ãƒ‰

> æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ InsightIoT ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®çµŒé¨“ã‚’åŸºã«ã€ä»Šå¾Œã®é–‹ç™ºã§ã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‹ãŸã‚ã®æ¨™æº–ã¨ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚

## ç›®æ¬¡

1. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ¨™æº–](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ¨™æº–)
2. [ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨ï¼ˆã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰](#ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³)
3. [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºæ¨™æº–](#ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºæ¨™æº–)
4. [ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ¨™æº–](#ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ¨™æº–)
5. [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ¨™æº–](#ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ¨™æº–)
6. [å›½éš›åŒ–ï¼ˆi18nï¼‰æ¨™æº–](#å›½éš›åŒ–i18næ¨™æº–)
7. [é–‹ç™ºé–‹å§‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ](#é–‹ç™ºé–‹å§‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ)
8. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ¨™æº–

### æ¨å¥¨æ§‹æˆï¼ˆ2025å¹´ä»¥é™ï¼‰

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å‚™è€ƒ |
|---------|------|-----------|------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Next.js | 14.x | App Router å¿…é ˆ |
| è¨€èª | TypeScript | 5.x | strict mode æ¨å¥¨ |
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° | Tailwind CSS | 3.x | |
| çŠ¶æ…‹ç®¡ç† | Zustand | 4.x | è»½é‡ã§ååˆ† |
| ãƒãƒ£ãƒ¼ãƒˆ | Chart.js + react-chartjs-2 | 4.x / 5.x | |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | Ruby on Rails | 7.x | API ãƒ¢ãƒ¼ãƒ‰ã§ä½¿ç”¨ |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | PostgreSQL | 15+ | |
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼ˆFEï¼‰ | Vercel | - | Next.js ã¨ã®ç›¸æ€§æœ€è‰¯ |
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼ˆBEï¼‰ | Railway | - | Rails ã¨ã®ç›¸æ€§è‰¯å¥½ |

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šãƒ«ãƒ¼ãƒ«

```json
// package.json - å¿…ãšãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å›ºå®šã™ã‚‹
{
  "dependencies": {
    "next": "14.2.21",        // ^14.x ã§ã¯ãªãå›ºå®š
    "react": "18.2.0",        // ^18.x ã§ã¯ãªãå›ºå®š
    "chart.js": "4.4.1",      // ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®š
    "react-chartjs-2": "5.2.0"
  }
}
```

---

## ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨ï¼ˆã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

### 1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³é–¢é€£

| NG | ç†ç”± | æ­£ã—ã„æ–¹æ³• |
|----|------|-----------|
| `^` ã‚„ `~` ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®š | æ„å›³ã—ãªã„ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ç ´å£Šçš„å¤‰æ›´ãŒå…¥ã‚‹ | å›ºå®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ |
| `npm install` ã§æœ€æ–°ç‰ˆã‚’å…¥ã‚Œã‚‹ | äº’æ›æ€§å•é¡ŒãŒç™ºç”Ÿ | `npm install package@x.x.x` ã§å›ºå®š |
| Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã„ | ç’°å¢ƒå·®ç•°ã§ãƒ“ãƒ«ãƒ‰å¤±æ•— | `.nvmrc` ã¨ `engines` ã§å›ºå®š |

### 2. Chart.js é–¢é€£ï¼ˆç‰¹ã«æ³¨æ„ï¼‰

```typescript
// NG: å‹å®šç¾©ãŒæ›–æ˜§
const options = {
  plugins: {
    tooltip: {
      callbacks: {
        label: (context) => { ... }  // anyå‹ã«ãªã‚‹
      }
    }
  }
};

// OK: æ˜ç¤ºçš„ãªå‹å®šç¾©
import { ChartOptions, TooltipItem } from 'chart.js';

const options: ChartOptions<'line'> = {
  plugins: {
    tooltip: {
      callbacks: {
        label: (context: TooltipItem<'line'>) => {
          return `${context.parsed.y} dB`;
        }
      }
    }
  }
};
```

### 3. TypeScript é–¢é€£

```typescript
// NG: ãƒªãƒ†ãƒ©ãƒ«å‹ã®ç›´æ¥ä½¿ç”¨ï¼ˆi18nã§å•é¡Œç™ºç”Ÿï¼‰
type Translations = {
  title: 'èª­ã¿è¾¼ã¿ä¸­...';  // ãƒªãƒ†ãƒ©ãƒ«å‹
};

// OK: stringå‹ã«ãƒãƒƒãƒ”ãƒ³ã‚°
type DeepStringify<T> = {
  [K in keyof T]: T[K] extends object ? DeepStringify<T[K]> : string;
};
type Translations = DeepStringify<typeof translations.ja>;
```

### 4. CSS/ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°é–¢é€£

```tsx
// NG: Tailwind ã‚¯ãƒ©ã‚¹ãŒåŠ¹ã‹ãªã„å ´åˆãŒã‚ã‚‹
<div className="fixed top-4 right-4">  // ä¸€éƒ¨ç’°å¢ƒã§åŠ¹ã‹ãªã„

// OK: ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã§ç¢ºå®Ÿã«æŒ‡å®š
<div
  className="fixed z-50"
  style={{ top: '1rem', right: '1rem' }}
>
```

### 5. APIé€£æºé–¢é€£

```typescript
// NG: ç’°å¢ƒå¤‰æ•°ãªã—ã§ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
const API_URL = 'https://api.example.com';

// OK: ç’°å¢ƒå¤‰æ•° + ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';
```

### 6. çµµæ–‡å­—/ãƒ•ã‚©ãƒ³ãƒˆé–¢é€£

```tsx
// NG: çµµæ–‡å­—ãƒ•ãƒ©ã‚°ã¯ãƒ•ã‚©ãƒ³ãƒˆä¾å­˜ã§è¡¨ç¤ºã•ã‚Œãªã„å ´åˆãŒã‚ã‚‹
<button>ğŸ‡¯ğŸ‡µ</button>  // Windows/Linux ã§ã€ŒJPã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹

// OK: SVGã‚¢ã‚¤ã‚³ãƒ³ã¾ãŸã¯ãƒ†ã‚­ã‚¹ãƒˆã‚’ä½¿ç”¨
<button>JA</button>
// ã¾ãŸã¯
<JapanFlagSVG />
```

---

## ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºæ¨™æº–

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/          # èªè¨¼ãŒå¿…è¦ãªãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ providers.tsx    # Context Providers
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”œâ”€â”€ components/          # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ui/              # åŸºæœ¬UIï¼ˆButton, Inputç­‰ï¼‰
â”‚   â”‚   â””â”€â”€ features/        # æ©Ÿèƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ lib/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ api.ts           # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ store.ts         # çŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ i18n/            # å›½éš›åŒ–
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ context.tsx
â”‚   â”‚       â””â”€â”€ translations.ts
â”‚   â””â”€â”€ types/               # å‹å®šç¾©
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ public/
â”œâ”€â”€ .nvmrc                   # Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®š
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tsconfig.json
â””â”€â”€ package.json
```

### å¿…é ˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

#### `.nvmrc`
```
20.11.0
```

#### `package.json` ã® `engines`
```json
{
  "engines": {
    "node": ">=20.0.0"
  }
}
```

#### `tsconfig.json` æ¨å¥¨è¨­å®š
```json
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ãƒ«ãƒ¼ãƒ«

```tsx
// 1. 'use client' ã¯å¿…è¦ãªå ´åˆã®ã¿
'use client';

// 2. å‹å®šç¾©ã¯ãƒ•ã‚¡ã‚¤ãƒ«ä¸Šéƒ¨ã«
interface Props {
  title: string;
  onAction: () => void;
}

// 3. i18n ã¯å¿…ãšä½¿ç”¨
import { useI18n } from '@/lib/i18n';

export function MyComponent({ title, onAction }: Props) {
  const { t, language } = useI18n();

  // 4. æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯è¨€èªå¯¾å¿œ
  const formatDate = (date: Date) => {
    return date.toLocaleDateString(language === 'ja' ? 'ja-JP' : 'en-US');
  };

  return (
    <div>
      <h1>{t.section.title}</h1>
      {/* ... */}
    </div>
  );
}
```

---

## ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ¨™æº–

### Rails API è¨­å®š

```ruby
# config/application.rb
module ApiApp
  class Application < Rails::Application
    config.api_only = true

    # CORSè¨­å®šï¼ˆé‡è¦ï¼‰
    config.middleware.insert_before 0, Rack::Cors do
      allow do
        origins ENV.fetch('FRONTEND_URL', 'http://localhost:3000')
        resource '*',
          headers: :any,
          methods: [:get, :post, :put, :patch, :delete, :options, :head],
          credentials: true
      end
    end
  end
end
```

### ç’°å¢ƒå¤‰æ•°ç®¡ç†

```ruby
# æœ¬ç•ªç’°å¢ƒã§ã¯å¿…ãšç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨
# NG: ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
DATABASE_URL = "postgres://user:pass@localhost/db"

# OK: ç’°å¢ƒå¤‰æ•°
DATABASE_URL = ENV.fetch('DATABASE_URL')
```

---

## ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ¨™æº–

### Vercelï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

#### `vercel.json`
```json
{
  "framework": "nextjs",
  "buildCommand": "npm run build",
  "outputDirectory": ".next",
  "env": {
    "NEXT_PUBLIC_API_URL": "@api_url"
  }
}
```

#### å¿…é ˆç’°å¢ƒå¤‰æ•°
| å¤‰æ•°å | èª¬æ˜ | ä¾‹ |
|--------|------|-----|
| `NEXT_PUBLIC_API_URL` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®URL | `https://api.example.railway.app` |

### Railwayï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰

#### å¿…é ˆç’°å¢ƒå¤‰æ•°
| å¤‰æ•°å | èª¬æ˜ |
|--------|------|
| `DATABASE_URL` | PostgreSQLæ¥ç¶šURLï¼ˆRailwayãŒè‡ªå‹•è¨­å®šï¼‰ |
| `RAILS_ENV` | `production` |
| `SECRET_KEY_BASE` | Rails ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ |
| `FRONTEND_URL` | Vercelã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ URLï¼ˆCORSç”¨ï¼‰ |

### Vercel â†” Railway é€£æºã®æ³¨æ„ç‚¹

1. **CORSè¨­å®š**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨±å¯
2. **HTTPSå¿…é ˆ**: æœ¬ç•ªç’°å¢ƒã§ã¯ä¸¡æ–¹HTTPS
3. **ç’°å¢ƒå¤‰æ•°ã®åŒæœŸ**: API URLãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
4. **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**: `/health` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç”¨æ„

```ruby
# config/routes.rb
get '/health', to: proc { [200, {}, ['OK']] }
```

---

## å›½éš›åŒ–ï¼ˆi18nï¼‰æ¨™æº–

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/lib/i18n/
â”œâ”€â”€ index.ts          # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”œâ”€â”€ context.tsx       # Provider, useI18n, LanguageSwitcher
â””â”€â”€ translations.ts   # ç¿»è¨³ãƒ‡ãƒ¼ã‚¿
```

### translations.ts ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```typescript
export const translations = {
  ja: {
    common: {
      loading: 'èª­ã¿è¾¼ã¿ä¸­...',
      save: 'ä¿å­˜',
      cancel: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
      // ...
    },
    nav: {
      dashboard: 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
      settings: 'è¨­å®š',
      logout: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ',
    },
    // å„ãƒšãƒ¼ã‚¸/æ©Ÿèƒ½ã”ã¨ã«ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘
    dashboard: { ... },
    settings: { ... },
  },
  en: {
    common: {
      loading: 'Loading...',
      save: 'Save',
      cancel: 'Cancel',
    },
    nav: {
      dashboard: 'Dashboard',
      settings: 'Settings',
      logout: 'Logout',
    },
    dashboard: { ... },
    settings: { ... },
  },
} as const;

// å‹å®šç¾©ï¼ˆé‡è¦ï¼šãƒªãƒ†ãƒ©ãƒ«å‹å•é¡Œã‚’å›é¿ï¼‰
export type Language = keyof typeof translations;

type DeepStringify<T> = {
  [K in keyof T]: T[K] extends object ? DeepStringify<T[K]> : string;
};

export type TranslationKeys = DeepStringify<typeof translations.ja>;
```

### context.tsx ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```typescript
'use client';

import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import { translations, Language, TranslationKeys } from './translations';

interface I18nContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: TranslationKeys;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export function I18nProvider({ children }: { children: ReactNode }) {
  const [language, setLanguageState] = useState<Language>('ja');

  useEffect(() => {
    const saved = localStorage.getItem('app_language') as Language;
    if (saved && (saved === 'ja' || saved === 'en')) {
      setLanguageState(saved);
    } else {
      // ãƒ–ãƒ©ã‚¦ã‚¶è¨€èªã‚’æ¤œå‡º
      const browserLang = navigator.language.toLowerCase();
      if (browserLang.startsWith('en')) {
        setLanguageState('en');
      }
    }
  }, []);

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem('app_language', lang);
  };

  // é‡è¦: as TranslationKeys ã§ã‚­ãƒ£ã‚¹ãƒˆ
  const t = translations[language] as TranslationKeys;

  return (
    <I18nContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const context = useContext(I18nContext);
  if (context === undefined) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
}

// è¨€èªåˆ‡ã‚Šæ›¿ãˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰
export function LanguageSwitcher({ className = '' }: { className?: string }) {
  const { language, setLanguage } = useI18n();

  return (
    <div className={`flex items-center text-sm ${className}`}>
      <button
        onClick={() => setLanguage('ja')}
        className={`px-2 py-1 rounded-l border transition ${
          language === 'ja'
            ? 'bg-blue-600 text-white border-blue-600'
            : 'bg-white text-slate-600 border-slate-300 hover:bg-slate-50'
        }`}
      >
        JA
      </button>
      <button
        onClick={() => setLanguage('en')}
        className={`px-2 py-1 rounded-r border-t border-r border-b transition ${
          language === 'en'
            ? 'bg-blue-600 text-white border-blue-600'
            : 'bg-white text-slate-600 border-slate-300 hover:bg-slate-50'
        }`}
      >
        EN
      </button>
    </div>
  );
}
```

### i18n å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] `translations.ts` ã«å…¨ãƒ†ã‚­ã‚¹ãƒˆã‚’å®šç¾©
- [ ] `DeepStringify` å‹ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’ä½¿ç”¨
- [ ] `providers.tsx` ã§ `I18nProvider` ã‚’ãƒ©ãƒƒãƒ—
- [ ] å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ `useI18n()` ã‚’ä½¿ç”¨
- [ ] ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆãŒãªã„
- [ ] æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ `language` ã‚’è€ƒæ…®
- [ ] LanguageSwitcher ã‚’é©åˆ‡ãªä½ç½®ã«é…ç½®

---

## é–‹ç™ºé–‹å§‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–æ™‚

- [ ] Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ `.nvmrc` ã«å›ºå®š
- [ ] `package.json` ã® `engines` ã‚’è¨­å®š
- [ ] ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å›ºå®šï¼ˆ`^` ã‚’ä½¿ã‚ãªã„ï¼‰
- [ ] TypeScript strict mode ã‚’æœ‰åŠ¹åŒ–
- [ ] ESLint + Prettier ã‚’è¨­å®š
- [ ] `.gitignore` ã‚’é©åˆ‡ã«è¨­å®š
- [ ] ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ `.env.example` ã‚’ä½œæˆ

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºé–‹å§‹æ™‚

- [ ] Next.js App Router ã‚’ä½¿ç”¨
- [ ] i18n æ§‹é€ ã‚’æœ€åˆã‹ã‚‰ä½œæˆ
- [ ] API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç’°å¢ƒå¤‰æ•°å¯¾å¿œã§ä½œæˆ
- [ ] å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
- [ ] Tailwind CSS ã‚’è¨­å®š
- [ ] å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆButton, Inputç­‰ï¼‰ã‚’ä½œæˆ

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºé–‹å§‹æ™‚

- [ ] Rails API ãƒ¢ãƒ¼ãƒ‰ã§ä½œæˆ
- [ ] CORS ã‚’æ­£ã—ãè¨­å®š
- [ ] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½œæˆ
- [ ] ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ï¼ˆãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ãªã„ï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆ

### ãƒ‡ãƒ—ãƒ­ã‚¤å‰

- [ ] ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- [ ] CORS è¨­å®šãŒæœ¬ç•ªURLã‚’è¨±å¯ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- [ ] HTTPS ãŒæœ‰åŠ¹ã‹ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

| ã‚¨ãƒ©ãƒ¼ | åŸå›  | è§£æ±ºç­– |
|--------|------|--------|
| `Type 'X' is not assignable to type 'Y'` | TypeScript ãƒªãƒ†ãƒ©ãƒ«å‹ã®ä¸ä¸€è‡´ | `DeepStringify` ã¾ãŸã¯ `as` ã§ã‚­ãƒ£ã‚¹ãƒˆ |
| `Module not found` | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ‘ã‚¹é–“é•ã„ | `npm install` ç¢ºèªã€`@/` ãƒ‘ã‚¹ç¢ºèª |
| `Cannot use import statement outside a module` | ESM/CJSæ··åœ¨ | `next.config.js` ã§ `transpilePackages` è¨­å®š |

### ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼

| ã‚¨ãƒ©ãƒ¼ | åŸå›  | è§£æ±ºç­– |
|--------|------|--------|
| `useI18n must be used within an I18nProvider` | Provideræœªè¨­å®š | `providers.tsx` ã§ `I18nProvider` ã‚’ãƒ©ãƒƒãƒ— |
| `CORS error` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§CORSæœªè¨­å®š | `rack-cors` gem ã§è¨­å®š |
| `Failed to fetch` | API URLé–“é•ã„ã¾ãŸã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åœæ­¢ | ç’°å¢ƒå¤‰æ•°ç¢ºèªã€Railway ãƒ­ã‚°ç¢ºèª |

### è¡¨ç¤ºã®å•é¡Œ

| å•é¡Œ | åŸå›  | è§£æ±ºç­– |
|------|------|--------|
| çµµæ–‡å­—ãŒæ–‡å­—ã§è¡¨ç¤ºã•ã‚Œã‚‹ | ãƒ•ã‚©ãƒ³ãƒˆæœªå¯¾å¿œ | SVGã‚¢ã‚¤ã‚³ãƒ³ã¾ãŸã¯ãƒ†ã‚­ã‚¹ãƒˆã‚’ä½¿ç”¨ |
| Tailwind ã‚¯ãƒ©ã‚¹ãŒåŠ¹ã‹ãªã„ | JIT ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å•é¡Œ | ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½µç”¨ |
| fixed é…ç½®ãŒãšã‚Œã‚‹ | è¦ªè¦ç´ ã® transform ç­‰ | ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã§ä¸Šæ›¸ã |

---

## æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å†…å®¹ |
|------|-----------|------|
| 2026-01-23 | 1.0.0 | InsightIoT ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çµŒé¨“ã‚’åŸºã«åˆç‰ˆä½œæˆ |

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [SETUP_GUIDE.md](./SETUP_GUIDE.md) - ç’°å¢ƒæ§‹ç¯‰ã‚¬ã‚¤ãƒ‰
- [INTEGRATION_GUIDE.md](./INTEGRATION_GUIDE.md) - çµ±åˆã‚¬ã‚¤ãƒ‰
- [platform-standard.md](./platform-standard.md) - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ¨™æº–

