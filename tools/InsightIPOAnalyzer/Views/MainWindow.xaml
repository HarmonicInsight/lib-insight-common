<Window x:Class="InsightIPOAnalyzer.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:helpers="clr-namespace:InsightIPOAnalyzer.Helpers"
        Title="Insight IPO Analyzer"
        Width="1400" Height="900"
        MinWidth="1000" MinHeight="600"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="CanResizeWithGrip">

    <Window.Resources>
        <helpers:NullToVisibilityConverter x:Key="NullToVisConverter"/>
        <helpers:BoolToVisibilityConverter x:Key="BoolToVisConverter"/>
    </Window.Resources>

    <!-- Window border with rounded corners -->
    <Border x:Name="WindowBorder"
            Background="{StaticResource BgPrimaryBrush}"
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="1"
            CornerRadius="8">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="48"/>   <!-- Titlebar -->
                <RowDefinition Height="Auto"/> <!-- Toolbar -->
                <RowDefinition Height="*"/>    <!-- Main Content -->
                <RowDefinition Height="28"/>   <!-- Status Bar -->
            </Grid.RowDefinitions>

            <!-- ============================================ -->
            <!-- Custom Titlebar                              -->
            <!-- ============================================ -->
            <Border Grid.Row="0"
                    Background="{StaticResource BgSecondaryBrush}"
                    CornerRadius="8,8,0,0"
                    MouseLeftButtonDown="Titlebar_MouseLeftButtonDown"
                    MouseLeftButtonUp="Titlebar_MouseLeftButtonUp">
                <Grid Margin="16,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Product Name -->
                    <TextBlock Grid.Column="0"
                               Text="Insight IPO Analyzer"
                               FontSize="15"
                               FontWeight="SemiBold"
                               Foreground="{StaticResource PrimaryBrush}"
                               VerticalAlignment="Center"/>

                    <!-- Version -->
                    <TextBlock Grid.Column="1"
                               Text="v1.0.0"
                               FontSize="11"
                               Foreground="{StaticResource TextTertiaryBrush}"
                               VerticalAlignment="Center"
                               Margin="8,0,0,0"/>

                    <!-- Dirty indicator -->
                    <TextBlock x:Name="DirtyIndicator"
                               Grid.Column="2"
                               Text="*"
                               FontSize="15"
                               FontWeight="Bold"
                               Foreground="{StaticResource WarningBrush}"
                               VerticalAlignment="Center"
                               Margin="4,0,0,0"
                               Visibility="Collapsed"/>

                    <!-- Language Toggle -->
                    <Button x:Name="LanguageToggleButton"
                            Grid.Column="4"
                            Style="{StaticResource ToolbarButtonStyle}"
                            Click="LanguageToggle_Click"
                            Margin="4,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x1F310; " FontSize="14"/>
                            <TextBlock x:Name="LanguageText" Text="English" FontSize="12" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <!-- Minimize -->
                    <Button Grid.Column="5"
                            Style="{StaticResource IconButtonStyle}"
                            Click="Minimize_Click">
                        <TextBlock Text="&#x2500;" FontSize="12"/>
                    </Button>

                    <!-- Maximize -->
                    <Button Grid.Column="6"
                            Style="{StaticResource IconButtonStyle}"
                            Click="Maximize_Click">
                        <TextBlock x:Name="MaximizeIcon" Text="&#x25A1;" FontSize="14"/>
                    </Button>

                    <!-- Close -->
                    <Button Grid.Column="7"
                            Style="{StaticResource CloseButtonStyle}"
                            Click="Close_Click">
                        <TextBlock Text="&#x2715;" FontSize="12"/>
                    </Button>
                </Grid>
            </Border>

            <!-- ============================================ -->
            <!-- Toolbar                                      -->
            <!-- ============================================ -->
            <Border Grid.Row="1"
                    Background="{StaticResource BgCardBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="0,0,0,1"
                    Padding="8,4">
                <WrapPanel>
                    <Button x:Name="BtnNew" Style="{StaticResource ToolbarButtonStyle}" Click="New_Click" Margin="2,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x1F4C4; " FontSize="14"/>
                            <TextBlock x:Name="BtnNewText" Text="新規" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="BtnOpen" Style="{StaticResource ToolbarButtonStyle}" Click="Open_Click" Margin="2,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x1F4C2; " FontSize="14"/>
                            <TextBlock x:Name="BtnOpenText" Text="開く" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="BtnSave" Style="{StaticResource ToolbarButtonStyle}" Click="Save_Click" Margin="2,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x1F4BE; " FontSize="14"/>
                            <TextBlock x:Name="BtnSaveText" Text="保存" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Separator Style="{StaticResource SectionSeparatorStyle}" Width="1" Height="20" Margin="8,0"/>
                    <Button x:Name="BtnExport" Style="{StaticResource ToolbarButtonStyle}" Click="Export_Click" Margin="2,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x2B07; " FontSize="14"/>
                            <TextBlock x:Name="BtnExportText" Text="JSONエクスポート" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="BtnImport" Style="{StaticResource ToolbarButtonStyle}" Click="Import_Click" Margin="2,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x2B06; " FontSize="14"/>
                            <TextBlock x:Name="BtnImportText" Text="JSONインポート" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Separator Style="{StaticResource SectionSeparatorStyle}" Width="1" Height="20" Margin="8,0"/>
                    <Button x:Name="BtnSample" Style="{StaticResource ToolbarButtonStyle}" Click="Sample_Click" Margin="2,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x1F4CB; " FontSize="14"/>
                            <TextBlock x:Name="BtnSampleText" Text="サンプル読込" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Separator Style="{StaticResource SectionSeparatorStyle}" Width="1" Height="20" Margin="8,0"/>
                    <Button x:Name="BtnAddNode" Style="{StaticResource PrimaryButtonStyle}" Click="AddNode_Click" Padding="12,6" Margin="2,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="+ " FontSize="14" Foreground="White"/>
                            <TextBlock x:Name="BtnAddNodeText" Text="ノード追加" Foreground="White" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="BtnDelete" Style="{StaticResource SecondaryButtonStyle}" Click="Delete_Click" Padding="12,6" Margin="4,0">
                        <TextBlock x:Name="BtnDeleteText" Text="削除" FontSize="12"/>
                    </Button>
                </WrapPanel>
            </Border>

            <!-- ============================================ -->
            <!-- Main Content Area                            -->
            <!-- ============================================ -->
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="240" MinWidth="180"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="280" MinWidth="200"/>
                </Grid.ColumnDefinitions>

                <!-- Left Panel: Project Tree -->
                <Border Grid.Column="0"
                        Background="{StaticResource BgSecondaryBrush}"
                        BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="0,0,1,0">
                    <DockPanel>
                        <!-- Tree Header -->
                        <Border DockPanel.Dock="Top"
                                Padding="12,8"
                                BorderBrush="{StaticResource BorderBrush}"
                                BorderThickness="0,0,0,1">
                            <TextBlock x:Name="TreeHeaderText"
                                       Text="プロジェクトツリー"
                                       FontSize="12"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource TextSecondaryBrush}"/>
                        </Border>

                        <!-- Project Info -->
                        <Border DockPanel.Dock="Top"
                                Padding="12,8"
                                BorderBrush="{StaticResource BorderLightBrush}"
                                BorderThickness="0,0,0,1">
                            <StackPanel>
                                <TextBlock x:Name="ProjectNameDisplay"
                                           Text=""
                                           FontSize="13"
                                           FontWeight="SemiBold"
                                           Foreground="{StaticResource PrimaryBrush}"
                                           TextTrimming="CharacterEllipsis"/>
                                <TextBlock x:Name="ProjectDescDisplay"
                                           Text=""
                                           FontSize="11"
                                           Foreground="{StaticResource TextSecondaryBrush}"
                                           TextWrapping="Wrap"
                                           MaxHeight="40"
                                           Margin="0,2,0,0"/>
                            </StackPanel>
                        </Border>

                        <!-- Tree View -->
                        <TreeView x:Name="ProjectTreeView"
                                  Style="{StaticResource InsightTreeViewStyle}"
                                  SelectedItemChanged="ProjectTree_SelectedItemChanged"
                                  Padding="4">
                        </TreeView>
                    </DockPanel>
                </Border>

                <!-- Left Splitter -->
                <GridSplitter Grid.Column="1" Width="4" HorizontalAlignment="Center"
                              VerticalAlignment="Stretch" Background="Transparent"/>

                <!-- Center: Canvas Area -->
                <Grid Grid.Column="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Breadcrumb & Navigation -->
                    <Border Grid.Row="0"
                            Background="{StaticResource BgCardBrush}"
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="0,0,0,1"
                            Padding="12,6">
                        <DockPanel>
                            <!-- Navigate Up Button -->
                            <Button x:Name="BtnNavigateUp"
                                    DockPanel.Dock="Left"
                                    Style="{StaticResource ToolbarButtonStyle}"
                                    Click="NavigateUp_Click"
                                    Visibility="Collapsed"
                                    Margin="0,0,8,0">
                                <TextBlock Text="&#x2190; 上へ" FontSize="12"/>
                            </Button>

                            <!-- Breadcrumb -->
                            <ItemsControl x:Name="BreadcrumbPanel">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                            </ItemsControl>
                        </DockPanel>
                    </Border>

                    <!-- Canvas (ScrollViewer wrapping) -->
                    <ScrollViewer Grid.Row="1"
                                  HorizontalScrollBarVisibility="Auto"
                                  VerticalScrollBarVisibility="Auto"
                                  Background="{StaticResource CanvasBackgroundBrush}">
                        <Canvas x:Name="DiagramCanvas"
                                Width="3000"
                                Height="2000"
                                Background="Transparent"
                                MouseLeftButtonDown="Canvas_MouseLeftButtonDown">
                            <!-- Grid pattern background -->
                            <Canvas.Resources>
                                <DrawingBrush x:Key="GridBrush"
                                              TileMode="Tile"
                                              Viewport="0,0,40,40"
                                              ViewportUnits="Absolute">
                                    <DrawingBrush.Drawing>
                                        <GeometryDrawing>
                                            <GeometryDrawing.Geometry>
                                                <GeometryGroup>
                                                    <LineGeometry StartPoint="0,0" EndPoint="40,0"/>
                                                    <LineGeometry StartPoint="0,0" EndPoint="0,40"/>
                                                </GeometryGroup>
                                            </GeometryDrawing.Geometry>
                                            <GeometryDrawing.Pen>
                                                <Pen Brush="{StaticResource CanvasGridBrush}" Thickness="0.5"/>
                                            </GeometryDrawing.Pen>
                                        </GeometryDrawing>
                                    </DrawingBrush.Drawing>
                                </DrawingBrush>
                            </Canvas.Resources>
                            <Rectangle Width="3000" Height="2000" Fill="{StaticResource GridBrush}" IsHitTestVisible="False"/>

                            <!-- Hint text when empty -->
                            <TextBlock x:Name="EmptyCanvasHint"
                                       Canvas.Left="100" Canvas.Top="100"
                                       FontSize="16"
                                       Foreground="{StaticResource TextTertiaryBrush}"
                                       IsHitTestVisible="False">
                                <Run x:Name="EmptyHintLine1" Text="ここにIPOノードを追加して分析を開始"/>
                                <LineBreak/>
                                <Run x:Name="EmptyHintLine2" Text="ツールバーの「ノード追加」をクリック、またはサンプルを読み込み" FontSize="13"/>
                            </TextBlock>
                        </Canvas>
                    </ScrollViewer>
                </Grid>

                <!-- Right Splitter -->
                <GridSplitter Grid.Column="3" Width="4" HorizontalAlignment="Center"
                              VerticalAlignment="Stretch" Background="Transparent"/>

                <!-- Right Panel: Properties -->
                <Border Grid.Column="4"
                        Background="{StaticResource BgSecondaryBrush}"
                        BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="1,0,0,0">
                    <DockPanel>
                        <!-- Properties Header -->
                        <Border DockPanel.Dock="Top"
                                Padding="12,8"
                                BorderBrush="{StaticResource BorderBrush}"
                                BorderThickness="0,0,0,1">
                            <TextBlock x:Name="PropertiesHeaderText"
                                       Text="プロパティ"
                                       FontSize="12"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource TextSecondaryBrush}"/>
                        </Border>

                        <!-- Properties Content -->
                        <ScrollViewer VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled">
                            <StackPanel x:Name="PropertiesPanel" Margin="12,8">

                                <!-- No Selection Message -->
                                <TextBlock x:Name="NoSelectionText"
                                           Text="ノードまたはアイテムを選択してください"
                                           FontSize="12"
                                           Foreground="{StaticResource TextTertiaryBrush}"
                                           TextWrapping="Wrap"
                                           Margin="0,16"/>

                                <!-- Project Properties Section -->
                                <StackPanel x:Name="ProjectPropsPanel" Visibility="Collapsed">
                                    <TextBlock x:Name="ProjectPropsHeader"
                                               Text="プロジェクトプロパティ"
                                               FontSize="13" FontWeight="SemiBold"
                                               Foreground="{StaticResource PrimaryBrush}"
                                               Margin="0,0,0,12"/>

                                    <TextBlock x:Name="LblProjectName" Text="名前" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="TxtProjectName"
                                             Style="{StaticResource InsightTextBoxStyle}"
                                             TextChanged="ProjectName_TextChanged"
                                             Margin="0,0,0,8"/>

                                    <TextBlock x:Name="LblProjectDesc" Text="説明" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="TxtProjectDescription"
                                             Style="{StaticResource InsightTextBoxStyle}"
                                             TextWrapping="Wrap"
                                             AcceptsReturn="True"
                                             Height="60"
                                             TextChanged="ProjectDescription_TextChanged"
                                             Margin="0,0,0,8"/>

                                    <TextBlock x:Name="LblProjectAuthor" Text="作成者" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="TxtProjectAuthor"
                                             Style="{StaticResource InsightTextBoxStyle}"
                                             TextChanged="ProjectAuthor_TextChanged"
                                             Margin="0,0,0,8"/>
                                </StackPanel>

                                <!-- Node Properties Section -->
                                <StackPanel x:Name="NodePropsPanel" Visibility="Collapsed">
                                    <TextBlock x:Name="NodePropsHeader"
                                               Text="ノードプロパティ"
                                               FontSize="13" FontWeight="SemiBold"
                                               Foreground="{StaticResource PrimaryBrush}"
                                               Margin="0,0,0,12"/>

                                    <TextBlock x:Name="LblNodeName" Text="名前" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="TxtNodeName"
                                             Style="{StaticResource InsightTextBoxStyle}"
                                             TextChanged="NodeName_TextChanged"
                                             Margin="0,0,0,8"/>

                                    <TextBlock x:Name="LblNodeDesc" Text="説明" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="TxtNodeDescription"
                                             Style="{StaticResource InsightTextBoxStyle}"
                                             TextWrapping="Wrap"
                                             AcceptsReturn="True"
                                             Height="60"
                                             TextChanged="NodeDescription_TextChanged"
                                             Margin="0,0,0,8"/>

                                    <Separator Style="{StaticResource SectionSeparatorStyle}"/>

                                    <!-- Inputs List -->
                                    <TextBlock x:Name="LblInputs" Text="INPUT (入力)" Style="{StaticResource SectionHeaderStyle}"/>
                                    <ItemsControl x:Name="PropsInputsList">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="{StaticResource BorderLightBrush}" BorderThickness="0,0,0,1" Padding="0,4" Margin="0,0,0,4">
                                                    <StackPanel>
                                                        <TextBox Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 Style="{StaticResource InsightTextBoxStyle}"
                                                                 FontSize="12" Margin="0,0,0,4"/>
                                                        <ComboBox ItemsSource="{Binding DataContext.DataTypesList, RelativeSource={RelativeSource AncestorType=Window}}"
                                                                  SelectedItem="{Binding DataType, Mode=TwoWay}"
                                                                  IsEditable="True"
                                                                  FontSize="11" Margin="0,0,0,4"/>
                                                        <TextBox Text="{Binding Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 Style="{StaticResource InsightTextBoxStyle}"
                                                                 FontSize="11"
                                                                 Foreground="{StaticResource TextSecondaryBrush}"/>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>

                                    <Separator Style="{StaticResource SectionSeparatorStyle}"/>

                                    <!-- Process Steps List -->
                                    <TextBlock x:Name="LblProcess" Text="PROCESS (処理)" Style="{StaticResource SectionHeaderStyle}"/>
                                    <ItemsControl x:Name="PropsStepsList">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="{StaticResource BorderLightBrush}" BorderThickness="0,0,0,1" Padding="0,4" Margin="0,0,0,4">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <TextBlock DockPanel.Dock="Left" Text="{Binding Order, StringFormat={}{0}. }" FontSize="12" Foreground="{StaticResource TextSecondaryBrush}" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                                            <TextBox Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                     Style="{StaticResource InsightTextBoxStyle}"
                                                                     FontSize="12" Margin="0,0,0,4"/>
                                                        </DockPanel>
                                                        <TextBox Text="{Binding Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 Style="{StaticResource InsightTextBoxStyle}"
                                                                 FontSize="11"
                                                                 Foreground="{StaticResource TextSecondaryBrush}"/>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>

                                    <Separator Style="{StaticResource SectionSeparatorStyle}"/>

                                    <!-- Outputs List -->
                                    <TextBlock x:Name="LblOutputs" Text="OUTPUT (出力)" Style="{StaticResource SectionHeaderStyle}"/>
                                    <ItemsControl x:Name="PropsOutputsList">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="{StaticResource BorderLightBrush}" BorderThickness="0,0,0,1" Padding="0,4" Margin="0,0,0,4">
                                                    <StackPanel>
                                                        <TextBox Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 Style="{StaticResource InsightTextBoxStyle}"
                                                                 FontSize="12" Margin="0,0,0,4"/>
                                                        <ComboBox ItemsSource="{Binding DataContext.DataTypesList, RelativeSource={RelativeSource AncestorType=Window}}"
                                                                  SelectedItem="{Binding DataType, Mode=TwoWay}"
                                                                  IsEditable="True"
                                                                  FontSize="11" Margin="0,0,0,4"/>
                                                        <TextBox Text="{Binding Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 Style="{StaticResource InsightTextBoxStyle}"
                                                                 FontSize="11"
                                                                 Foreground="{StaticResource TextSecondaryBrush}"/>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </DockPanel>
                </Border>
            </Grid>

            <!-- ============================================ -->
            <!-- Status Bar                                   -->
            <!-- ============================================ -->
            <Border Grid.Row="3"
                    Background="{StaticResource BgSecondaryBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="0,1,0,0"
                    CornerRadius="0,0,8,8"
                    Padding="12,0">
                <DockPanel>
                    <TextBlock x:Name="StatusText"
                               DockPanel.Dock="Left"
                               Text="準備完了"
                               FontSize="11"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               VerticalAlignment="Center"/>

                    <StackPanel DockPanel.Dock="Right"
                                Orientation="Horizontal"
                                VerticalAlignment="Center">
                        <TextBlock FontSize="11" Foreground="{StaticResource TextTertiaryBrush}" VerticalAlignment="Center" Margin="0,0,8,0">
                            <Run x:Name="StatusNodesLabel" Text="ノード数: "/>
                            <Run x:Name="StatusNodeCount" Text="0"/>
                        </TextBlock>
                        <TextBlock Text="|" FontSize="11" Foreground="{StaticResource BorderBrush}" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBlock FontSize="11" Foreground="{StaticResource TextTertiaryBrush}" VerticalAlignment="Center">
                            <Run x:Name="StatusLevelLabel" Text="階層: "/>
                            <Run x:Name="StatusLevelName" Text="ルート"/>
                        </TextBlock>
                    </StackPanel>

                    <TextBlock/>
                </DockPanel>
            </Border>
        </Grid>
    </Border>
</Window>
