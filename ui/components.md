# Insight Series UIコンポーネント ガイドライン

## 概要

全製品で統一されたUIを実現するためのコンポーネント設計ガイドラインです。

---

## レイアウト

### 基本構造

```
┌─────────────────────────────────────────────────────────────┐
│  Header (56px)                                    [🔔] [👤] │
├──────────────┬──────────────────────────────────────────────┤
│              │                                              │
│   Sidebar    │              Main Content                    │
│   (260px)    │                                              │
│              │                                              │
│  ┌────────┐  │  ┌──────────────────────────────────────┐   │
│  │  Nav   │  │  │                                      │   │
│  │ Items  │  │  │         Content Area                 │   │
│  │        │  │  │         (max-width: 1200px)          │   │
│  │        │  │  │                                      │   │
│  └────────┘  │  └──────────────────────────────────────┘   │
│              │                                              │
│  ┌────────┐  │                                              │
│  │Settings│  │                                              │
│  │ Help   │  │                                              │
│  └────────┘  │                                              │
└──────────────┴──────────────────────────────────────────────┘
```

### サイドバー

| 状態 | 幅 | 表示 |
|------|-----|------|
| 展開 | 260px | アイコン + ラベル |
| 折りたたみ | 64px | アイコンのみ |
| 非表示 | 0px | ハンバーガーメニュー |

### レスポンシブ

| ブレークポイント | サイドバー | レイアウト |
|----------------|-----------|----------|
| ≥1280px (xl) | 展開 | 固定 |
| ≥1024px (lg) | 折りたたみ | 固定 |
| ≥768px (md) | 非表示 | オーバーレイ |
| <768px (sm) | 非表示 | オーバーレイ |

---

## ボタン

### バリアント

| バリアント | 用途 | 背景色 | テキスト色 |
|-----------|------|--------|----------|
| Primary | 主要アクション | brand.primary | white |
| Secondary | 副次アクション | transparent | brand.primary |
| Ghost | 軽微なアクション | transparent | gray.600 |
| Danger | 危険な操作 | semantic.error | white |

### サイズ

| サイズ | 高さ | パディング | フォント |
|--------|------|----------|---------|
| sm | 32px | 12px 16px | 14px |
| md | 40px | 16px 24px | 14px |
| lg | 48px | 20px 32px | 16px |

### 状態

```css
/* 通常 */
background: var(--primary);
opacity: 1;

/* ホバー */
background: var(--primary-dark);
transform: translateY(-1px);
box-shadow: var(--shadow-md);

/* アクティブ */
transform: translateY(0);
box-shadow: var(--shadow-sm);

/* 無効 */
opacity: 0.5;
cursor: not-allowed;

/* ローディング */
cursor: wait;
/* スピナーアイコン表示 */
```

### コード例

```tsx
// React/TypeScript
<Button variant="primary" size="md" onClick={handleSave}>
  保存
</Button>

<Button variant="ghost" size="sm" leftIcon={<PlusIcon />}>
  追加
</Button>

<Button variant="danger" loading={isDeleting}>
  削除
</Button>
```

---

## 入力フィールド

### テキスト入力

```
┌─────────────────────────────────────────┐
│ ラベル                           必須   │
├─────────────────────────────────────────┤
│ ┌─────────────────────────────────────┐ │
│ │ プレースホルダーテキスト              │ │
│ └─────────────────────────────────────┘ │
│ ヘルプテキスト                          │
└─────────────────────────────────────────┘
```

### 状態

| 状態 | ボーダー色 | 背景色 |
|------|----------|--------|
| 通常 | gray.300 | white |
| フォーカス | brand.primary | white |
| エラー | semantic.error | error.50 |
| 無効 | gray.200 | gray.50 |

### バリデーション表示

```
┌─────────────────────────────────────────┐
│ メールアドレス                    必須   │
├─────────────────────────────────────────┤
│ ┌─────────────────────────────────────┐ │
│ │ invalid-email                  ⚠️   │ │
│ └─────────────────────────────────────┘ │
│ ⚠️ メールアドレスの形式が正しくありません │
└─────────────────────────────────────────┘
```

---

## カード

### 基本構造

```
┌─────────────────────────────────────────┐
│ ┌─────────────────────────────────────┐ │
│ │ ヘッダー                     [⋮]   │ │
│ ├─────────────────────────────────────┤ │
│ │                                     │ │
│ │ コンテンツエリア                     │ │
│ │                                     │ │
│ ├─────────────────────────────────────┤ │
│ │ フッター（オプション）               │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### スタイル

```css
.card {
  background: var(--bg-paper);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-card);
  padding: var(--spacing-6);

  transition: box-shadow 150ms ease, transform 150ms ease;
}

.card:hover {
  box-shadow: var(--shadow-card-hover);
  transform: translateY(-2px);
}
```

---

## モーダル/ダイアログ

### サイズ

| サイズ | 幅 | 用途 |
|--------|-----|------|
| sm | 400px | 確認ダイアログ |
| md | 560px | フォーム |
| lg | 720px | 詳細ビュー |
| xl | 960px | 複雑なコンテンツ |
| full | 90vw | フルスクリーン |

### 構造

```
┌───────────────────────────────────────────┐
│ タイトル                            [×]  │
├───────────────────────────────────────────┤
│                                           │
│  コンテンツ                               │
│                                           │
├───────────────────────────────────────────┤
│              [キャンセル] [確定]          │
└───────────────────────────────────────────┘
```

### アニメーション

```css
/* 表示時 */
.modal-enter {
  opacity: 0;
  transform: scale(0.95) translateY(-20px);
}
.modal-enter-active {
  opacity: 1;
  transform: scale(1) translateY(0);
  transition: all 250ms cubic-bezier(0, 0, 0.2, 1);
}

/* 背景オーバーレイ */
.overlay {
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
}
```

---

## トースト/通知

### タイプ

| タイプ | 色 | アイコン | 自動消去 |
|--------|-----|---------|---------|
| success | green | ✓ | 3秒 |
| error | red | ✕ | 手動 |
| warning | yellow | ⚠ | 5秒 |
| info | blue | ℹ | 3秒 |

### 位置

```
推奨: 右下 (bottom-right)
代替: 右上 (top-right)

スタック: 最新が上
最大表示: 5件
```

### 構造

```
┌─────────────────────────────────────┐
│ [✓] 保存しました              [×]  │
└─────────────────────────────────────┘
```

---

## テーブル

### 基本スタイル

```
┌──────────┬───────────┬──────────┬────────┐
│ 名前     │ ステータス │ 更新日    │ 操作   │
├──────────┼───────────┼──────────┼────────┤
│ 項目A    │ ● アクティブ │ 1時間前   │ [⋮]   │
├──────────┼───────────┼──────────┼────────┤
│ 項目B    │ ○ 下書き   │ 昨日      │ [⋮]   │
├──────────┼───────────┼──────────┼────────┤
│ 項目C    │ ● アクティブ │ 3日前     │ [⋮]   │
└──────────┴───────────┴──────────┴────────┘
│ ← 1 2 3 ... 10 →                        │
```

### 機能

- ソート（カラムヘッダークリック）
- 検索/フィルター
- ページネーション
- 行選択（チェックボックス）
- 一括操作

---

## 空状態

### 構造

```
┌─────────────────────────────────────────┐
│                                         │
│              [イラスト]                 │
│                                         │
│        まだデータがありません            │
│                                         │
│   分析を開始すると、ここに結果が         │
│   表示されます                          │
│                                         │
│           [分析を開始]                  │
│                                         │
└─────────────────────────────────────────┘
```

### ガイドライン

- イラストまたはアイコンを使用
- 何が表示されるかを説明
- 次のアクションを提示

---

## ローディング

### スケルトン

```
┌─────────────────────────────────────────┐
│ ████████████████                        │
│ ██████████████████████████████          │
│ ████████████████████                    │
└─────────────────────────────────────────┘
```

### スピナー

```
サイズ: sm (16px), md (24px), lg (32px)
アニメーション: 回転 (1s linear infinite)
色: brand.primary または currentColor
```

### プログレスバー

```
┌─────────────────────────────────────────┐
│ ████████████░░░░░░░░░░░  45%           │
└─────────────────────────────────────────┘
```

---

## アイコン

### ライブラリ

**Lucide Icons** を標準として使用

### サイズ

| サイズ | px | 用途 |
|--------|-----|------|
| sm | 16px | インライン、ボタン内 |
| md | 20px | ナビゲーション |
| lg | 24px | アクションアイコン |
| xl | 32px | 空状態、ヒーロー |

### 標準アイコン

| 機能 | アイコン名 |
|------|-----------|
| ホーム | Home |
| 設定 | Settings |
| 検索 | Search |
| 追加 | Plus |
| 編集 | Pencil |
| 削除 | Trash2 |
| 保存 | Save |
| 閉じる | X |
| 成功 | CheckCircle |
| エラー | XCircle |
| 警告 | AlertTriangle |
| 情報 | Info |

---

## ダークモード

### 切り替え

```
設定 > 外観 > テーマ
- ライト
- ダーク
- システムに合わせる（デフォルト）
```

### カラー対応

| 要素 | ライト | ダーク |
|------|--------|--------|
| 背景 | #FFFFFF | #111827 |
| 紙面 | #F9FAFB | #1F2937 |
| テキスト | #111827 | #F9FAFB |
| ボーダー | #E5E7EB | #374151 |
| プライマリ | #2563EB | #3B82F6 |

---

## アクセシビリティ

### 必須対応

- [ ] キーボードナビゲーション対応
- [ ] フォーカスインジケーター表示
- [ ] ARIA ラベル設定
- [ ] カラーコントラスト 4.5:1 以上
- [ ] フォントサイズ変更対応
- [ ] スクリーンリーダー対応

### フォーカスリング

```css
*:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}
```

### キーボード操作

| キー | 動作 |
|------|------|
| Tab | 次の要素へ移動 |
| Shift+Tab | 前の要素へ移動 |
| Enter/Space | 選択/実行 |
| Escape | キャンセル/閉じる |
| Arrow keys | リスト内移動 |

---

## 実装チェックリスト

新しいコンポーネント作成時:

- [ ] デザインシステムの値を使用しているか
- [ ] レスポンシブ対応しているか
- [ ] ダークモード対応しているか
- [ ] アクセシビリティ対応しているか
- [ ] アニメーションが適切か
- [ ] i18n 対応しているか
- [ ] エラー状態を考慮しているか
- [ ] ローディング状態を考慮しているか
